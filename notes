const { Sequelize } = require("sequelize");
const { host, port, db, user, password } = require("./env-variables");

const sequelize = new Sequelize(db, user, password, {
  host: host, // Your SQL Server address
  dialect: "mssql", // Using Microsoft SQL Server
  port: port, // Default port for SQL Server
  dialectOptions: {
    options: {
      encrypt: false, // Disable encryption if not using SSL
    },
  },
});

// Define the function to initialize the database
async function initializeDB() {
  try {
    // Sync all defined models to the DB
    await sequelize.sync({ force: false });
    console.log("Database synced successfully.");
  } catch (error) {
    console.error("Error syncing the database:", error);
  }
}

module.exports = { sequelize, initializeDB };


export const host= "127.0.0.1" // Your SQL Server address
export const port = 1433 // Default port for SQL Server

export const db = "EncoreDB" 
export const user = "sa"
export const password = "YourPassword123"


